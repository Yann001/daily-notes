# Linux shell note



# 第三章 基本的 bash shell 命令

1. bash 手册

   `man` 

   命令用来访问存储在Linux系统上的手册页面。

2. 遍历目录

   `cd` , `pwd`

   cd 命令不带参数时进入到用户主目录。

3. 文件和目录列表

   `ls`

   -F 参数在目录名后加了正斜线(/)，在可执行文件的后面加个星号(*)。

   -a 参数显示隐藏文件和普通文件

   -R 参数列出了当前目录下包含的子目录中的文件。

   -l 参数以长列表输出文件和目录的详细信息。这种长列表格式的输出在每一行中列出了单个文件或目录。除了文件名，输出中还有其他有用信息。输出的第一行显示了在目录中包含的总块数。在此之后，每一行都包含了关于文件(或目录)的下述信息:

   - 文件类型，比如目录(d)、文件(-)、字符型文件(c)或块设备(b)
   - 文件的权限
   - 文件的硬链接总数
   - 文件属主的用户名
   - 文件属组的组名
   - 文件的大小(以字节为单位)
   - 文件的上次修改时间（显示访问时间时用 `ls -l --time=atime`）
   - 文件名或目录名

   `ls <param> <filetr>`过滤输出列表

4. 处理文件

   创建文件，或改变文件的修改时间（文件已存在）。

   `touch filename`

   改变文件访问时间。

   `touch -a filename`

   复制文件

   `cp source destination`

   让 shell 询问是否覆盖文件（如果文件已存在）

   `cp -i source destination`

   链接文件

   - 符号链接，`ln -s file file-link` （注意 file 必须事先存在）
   - 硬链接，`ln file file-link` （注意 file 必须事先存在）

   符号链接是创建的两个不同文件，它们的内容也不相同，file-link 仅仅是指向 file 而已。

   硬链接会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言是同一个文件。引用硬链接文件等同于引用了源文件。

   `ls -i` 可以查看文件的 inode 编号，文件或目录的 inode 编号是一个用于标识的唯一数字，这个数字由内核分配给文件系统中的每一个对象。

   重命名（移动）文件

   `mv source destination`

   删除文件

   `rm -i file`

5. 处理目录

   创建目录

   `mkdir new_dir`

   创建多级目录

   `mkdir -p new_dir/sub_dir/under_dir`

   删除目录

   `rmdir dir`

   rmdir 默认只能删除空目录，当目录非空时可以加上 `-r` 参数递归删除子目录，也可以再加上 `-f` 参数强制删除。

6. 查看文件内容

   查看文件类型

   `file filename`

   查看整个文件

   `cat filename` ，显示文件全部内容。

   -n 参数会给所有的行加上行号。

   -b 参数只给有文本的行加上行号。

   -T 参数会去掉制表符（用^I字符组合去替换文中的所有制表符）

   `more filename` ，显示一页内容后会停住。

   `less filename` ，more 命令的升级版，提供更多的操作。

   查看部分文件

   `tail filename` ，显示文件最后几行的内容。

   -n number （-number）参数指定显示的行数。

   -f参数是tail命令的一个突出特性。它允许你在其他进程使用该文件时查看文件的内容。tail命令会保持活动状态，并不断显示添加到文件中的内容。

   `head filename` ，显示文件最开始的几行，默认10行，也可以使用 `-n` 参数（`-10` or `-n 10`）



# 第四章 更多的 bash shell 命令

